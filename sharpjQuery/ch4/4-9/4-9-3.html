<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <script src="../../scripts/jquery.js"></script>
    <script>
        $(function () {
            var page = 1;
            var num = 4;
            var $v_show = $("div.v_content_list");
            var $v_content = $("div.v_content");
            var v_width = $v_content.width();
            //计算页数
            var length = $v_show.find("li").length;
            var page_count = Math.ceil(length / num);
            $("span.prev").click(function () {
                if (!$v_show.is(":animated")) {
                    if (page == 1) {
                        //计算最后一页的left值
                        var fin_left = parseInt(v_width) * (page_count - 1);
                        //跳转到最后一页
                        $v_show.animate({ left: "-=" + fin_left + "px" }, "slow");
                        page = page_count;
                    } else {
                        //跳转到前一页
                        $v_show.animate({ left: "+=" + v_width }, "slow");
                        page--;
                    }
                }
                var $highlight_tip = $("div.highlight_tip").find("span");
                $highlight_tip.eq(page - 1).addClass("current").siblings().removeClass("current");
            });
            $("span.next").click(function () {
                if (!$v_show.is(":animated")) {
                    if (page == page_count) {
                        //转到第一页
                        $v_show.animate({ left: "0px" }, "slow");
                        page = 1;
                    } else {
                        //转到下一页
                        $v_show.animate({ left: "-=" + v_width }, "slow");
                        page++;
                    }
                }
                var $highlight_tip = $("div.highlight_tip").find("span");
                $highlight_tip.eq(page - 1).addClass("current").siblings().removeClass("current");
            });
        });
    </script>
</head>

<body>

    <div class="v_show">
        <div class="v_caption">
            <h2 class="cartoon" title="卡通动漫">卡通动漫</h2>
            <div class="highlight_tip">
                <span class="current">1</span><span>2</span><span>3</span><span>4</span>
            </div>
            <div class="change_btn">
                <span class="prev">上一页</span>
                <span class="next">下一页</span>
            </div>
            <em><a href="#">更多>></a></em>
        </div>
        <div class="v_content">
            <div class="v_content_list">
                <ul>
                    <li><a href="#"><img src="img/01.jpg" alt="海贼王" /></a>
                        <h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span>
                    </li>
                    <li><a href="#"><img src="img/01.jpg" alt="海贼王" /></a>
                        <h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span>
                    </li>
                    <li><a href="#"><img src="img/01.jpg" alt="海贼王" /></a>
                        <h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span>
                    </li>
                    <li><a href="#"><img src="img/01.jpg" alt="海贼王" /></a>
                        <h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span>
                    </li>
                    <li><a href="#"><img src="img/02.jpg" alt="哆啦A梦" /></a>
                        <h4><a href="#">哆啦A梦</a></h4><span>播放:<em>33,326</em></span>
                    </li>
                    <li><a href="#"><img src="img/02.jpg" alt="哆啦A梦" /></a>
                        <h4><a href="#">哆啦A梦</a></h4><span>播放:<em>33,326</em></span>
                    </li>
                    <li><a href="#"><img src="img/02.jpg" alt="哆啦A梦" /></a>
                        <h4><a href="#">哆啦A梦</a></h4><span>播放:<em>33,326</em></span>
                    </li>
                    <li><a href="#"><img src="img/02.jpg" alt="哆啦A梦" /></a>
                        <h4><a href="#">哆啦A梦</a></h4><span>播放:<em>33,326</em></span>
                    </li>
                    <li><a href="#"><img src="img/03.jpg" alt="火影忍者" /></a>
                        <h4><a href="#">火影忍者</a></h4><span>播放:<em>28,276</em></span>
                    </li>
                    <li><a href="#"><img src="img/03.jpg" alt="火影忍者" /></a>
                        <h4><a href="#">火影忍者</a></h4><span>播放:<em>28,276</em></span>
                    </li>
                    <li><a href="#"><img src="img/03.jpg" alt="火影忍者" /></a>
                        <h4><a href="#">火影忍者</a></h4><span>播放:<em>28,276</em></span>
                    </li>
                    <li><a href="#"><img src="img/03.jpg" alt="火影忍者" /></a>
                        <h4><a href="#">火影忍者</a></h4><span>播放:<em>28,276</em></span>
                    </li>
                    <li><a href="#"><img src="img/04.jpg" alt="龙珠" /></a>
                        <h4><a href="#">龙珠</a></h4><span>播放 <em>57,865</em></span>
                    </li>
                    <li><a href="#"><img src="img/04.jpg" alt="龙珠" /></a>
                        <h4><a href="#">龙珠</a></h4><span>播放 <em>57,865</em></span>
                    </li>
                    <li><a href="#"><img src="img/04.jpg" alt="龙珠" /></a>
                        <h4><a href="#">龙珠</a></h4><span>播放 <em>57,865</em></span>
                    </li>
                    <li><a href="#"><img src="img/04.jpg" alt="龙珠" /></a>
                        <h4><a href="#">龙珠</a></h4><span>播放 <em>57,865</em></span>
                    </li>
                </ul>
            </div>
        </div>
    </div>

</body>

</html>